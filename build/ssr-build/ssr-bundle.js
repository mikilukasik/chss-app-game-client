module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="QfWi")}({"/i48":function(e,t){var n={set:function(e,t,n){if(void 0===n&&(n=365),!n)return document.cookie=e+"="+t;var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},delete:function(e){var t="expires="+new Date(2e3,1,1).toUTCString();document.cookie=e+"=;"+t+";path=/"},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}};e.exports=n},FA6U:function(e,t,n){e.exports={home:"home__MseGd"}},GFNa:function(e,t,n){},HteQ:function(e,t){e.exports=require("preact")},QfWi:function(e,t,n){"use strict";n.r(t);n("GFNa");var r=n("HteQ"),o=n("Y3FI"),a=n("ox/y"),i=n("ySiU"),s=n.n(i),c=function(){return Object(r.h)("header",{class:s.a.header},Object(r.h)("h1",null,"Preact App"),Object(r.h)("nav",null,Object(r.h)(a.Link,{activeClassName:s.a.active,href:"/"},"Home"),Object(r.h)(a.Link,{activeClassName:s.a.active,href:"/game"},"Game")))},u=n("FA6U"),l=n.n(u),f=function(){return Object(r.h)("div",{class:l.a.home},Object(r.h)("h1",null,"Home"),Object(r.h)("p",null,"This is the Home component."))},h=(n("fajk"),Object(r.createContext)("test")),d={getPieceValues:function(e){var t={wVal:0,bVal:0};return e.table.forEach((function(e){e.forEach((function(e){switch(e[0]){case 1:t.bVal+=e[1];break;case 2:t.wVal+=e[1]}}))})),t},shouldIDraw:function(e){var t=this.getPieceValues(e);if(e.wNext){if(t.wVal<t.bVal)return!0}else if(t.wVal>t.bVal)return!0;return!1},checkIfLooped:function(e,t){var n=0,r=S(e);return t.forEach((function(e){e===r&&(n+=1)})),n}};function v(e,t,n,r){for(var o=t?2:1,a=0;a<8;a+=1)for(var i=0;i<8;i+=1)e[a][i][0]===o?e[a][i][5]=y(a,i,t,e,!1,!1,[0],n,r):e[a][i][5]=[];return e}function p(e,t,n){var r=0,o=0,a=0,i=[0],s=[0],c=0,u=0;void 0===n&&(n=w(e,!t));var l=1;if(t&&(l=2),t&&e[4][0][3]){var f=!1;e[0][0][3]&&(r+=3,f=!0,0===e[3][0][0]&&(r+=1),0===e[2][0][0]&&(r+=3),0===e[1][0][0]&&(r+=1),2===e[2][1][0]&&(r+=1,1===e[2][1][1]&&(r+=4)),2===e[1][1][0]&&(r+=1,1===e[1][1][1]&&(r+=4)),2===e[0][1][0]&&(r+=1,1===e[0][1][1]&&(r+=4))),e[7][0][3]&&(f=!0,o+=3,0===e[6][0][0]&&(o+=1),0===e[5][0][0]&&(o+=3),2===e[7][1][0]&&(o+=1,1===e[7][1][1]&&(o+=4)),2===e[6][1][0]&&(o+=1,1===e[6][1][1]&&(o+=4)),2===e[5][1][0]&&(o+=1,1===e[5][1][1]&&(o+=4))),f&&(1===e[3][1][1]&&2===e[3][1][0]&&(r-=6),1===e[4][1][1]&&2===e[4][1][0]&&(o-=6),2===e[2][0][1]&&2===e[2][0][0]&&(r-=6),2===e[5][0][1]&&2===e[5][0][0]&&(o-=6))}!t&&e[4][7][3]&&(f=!1,e[0][7][3]&&(f=!0,r+=3,0===e[3][7][0]&&(r+=1),0===e[2][7][0]&&(r+=3),0===e[1][7][0]&&(r+=1),1===e[2][6][0]&&(r+=1,1===e[2][6][1]&&(r+=4)),1===e[1][6][0]&&(r+=1,1===e[1][6][1]&&(r+=4)),1===e[0][6][0]&&(r+=1,1===e[0][6][1]&&(r+=4))),e[7][7][3]&&(f=!0,o+=3,0===e[6][7][0]&&(o+=1),0===e[5][7][0]&&(o+=3),1===e[7][6][0]&&(o+=1,1===e[7][6][1]&&(o+=4)),1===e[6][6][0]&&(o+=1,1===e[6][6][1]&&(o+=4)),1===e[5][6][0]&&(o+=1,1===e[5][6][1]&&(o+=4))),f&&(1===e[3][6][1]&&1===e[3][6][0]&&(r-=4),1===e[4][6][1]&&1===e[4][6][0]&&(o-=4),2===e[2][7][1]&&1===e[2][7][0]&&(r-=4),2===e[5][7][1]&&1===e[5][7][0]&&(o-=4)));for(var h=0,d=0;d<8;d+=1)for(var v=0;v<8;v+=1)e[d][v][0]===l?(u+=(7-Math.abs(n[0]-d)+(7-Math.abs(n[1]-v)))*e[d][v][1],y(d,v,t,e,!0,!0,i),e[d][v][2]>h&&(h=e[d][v][2]),c+=t?v:7-v,a+=e[d][v][1]):0!==e[d][v][0]&&(y(d,v,!t,e,!0,!0,s).length-2,c-=t?(7-v)/10:v/10,a-=e[d][v][1]);return[a,i[0],s[0],r,o,0,c,h,u]}function m(e,t,n,r,o){var a=t?2:1,i=[];n&&(t=!t);for(var s=[0],c=0;c<8;c+=1)for(var u=0;u<8;u+=1)e[c][u][0]===a&&y(c,u,t,e,!o,!0,s).forEach((function(e){i[i.length]=[c,u,e[0],e[1]]}));return i}function g(e,t){var n=1;t&&(n=2);var r=0;return m(e,t,!0).forEach((function(t){e[t[2]][t[3]][0]===n&&(e[t[2]][t[3]][6]=!0,9===e[t[0]][t[1]][1]?r+=2*(9-e[t[2]][t[3]][1]):r+=9-e[t[2]][t[3]][1])})),r}function b(e,t){return g(e,t)-g(e,!t)}function w(e,t){var n=1;t&&(n+=1);for(var r=0;r<8;r+=1)for(var o=0;o<8;o+=1)if(9===e[r][o][1]&&e[r][o][0]===n)return[r,o]}function y(e,t,n,r,o,a,i,s,c){void 0===i&&(i=[0]);var u=r[e][t][1],l=[];switch(u){case 1:l=I(e,t,n,r,i);break;case 2:l=T(e,t,n,r,i);break;case 3:l=j(e,t,n,r,i);break;case 4:l=D(e,t,n,r,i);break;case 5:l=function(e,t,n,r,o){void 0===o&&(o=[0]);var a=[],i=e+1,s=t+1;for(;_(o,a,i,s,r,n,5);)i+=1,s+=1;i=e-1,s=t-1;for(;_(o,a,i,s,r,n,5);)i-=1,s-=1;i=e+1,s=t-1;for(;_(o,a,i,s,r,n,5);)i+=1,s-=1;i=e-1,s=t+1;for(;_(o,a,i,s,r,n,5);)i-=1,s+=1;i=e+1;for(;_(o,a,i,t,r,n,5);)i+=1;i=e-1;for(;_(o,a,i,t,r,n,5);)i-=1;i=t+1;for(;_(o,a,e,i,r,n,5);)i+=1;i=t-1;for(;_(o,a,e,i,r,n,5);)i-=1;return a}(e,t,n,r,i);break;case 9:l=O(e,t,n,r,i)}if(void 0!==c&&l.forEach((function(n){c[c.length]=P(e,t,n[0],n[1])})),!o){for(var f=l.length-1;f>=0;f-=1)A(E(P(e,t,l[f][0],l[f][1]),r,a),n)&&l.splice(f,1);if(9===u&&r[e][t][3]){if(A(r,n))for(var h=l.length-1;h>=0;h-=1)l[h][1]!==t||l[h][0]!==e-2&&l[h][0]!==e+2||l.splice(h,1);var d=!0,v=!0;for(f=l.length-1;f>=0;f-=1)l[f][1]===t&&l[f][0]===e-1&&(d=!1),l[f][1]===t&&l[f][0]===e+1&&(v=!1);for(f=l.length-1;f>=0;f-=1)l[f][1]===t&&(l[f][0]===e-2&&d||l[f][0]===e+2&&v)&&l.splice(f,1)}}return l}function _(e,t,n,r,o,a,i){if(3===M(n,r,o)[0])return!1;var s=a?2:1,c=o[n][r];if(c[0]===s)return!1;if(t[t.length]=[n,r,c[1]],0===c[0])return!0;var u=c[1];return c[6]&&(u-=i),e[0]<u&&(e[0]=u),!1}function C(e,t,n,r,o,a,i){0===o[n][r][0]&&(t[t.length]=[n,r,0])}function k(e,t,n,r,o,a,i){var s=a?1:2;if(n>0&&o[n-1][r][0]===s&&(t[t.length]=[n-1,r,o[n-1][r][1]]),n<7&&o[n+1][r][0]===s&&(t[t.length]=[n+1,r,o[n+1][r][1]]),0===o[n][r][0])return t[t.length]=[n,r,0],!0}function D(e,t,n,r,o){void 0===o&&(o=[0]);for(var a=[],i=e+1;_(o,a,i,t,r,n,4);)i+=1;for(i=e-1;_(o,a,i,t,r,n,4);)i-=1;for(i=t+1;_(o,a,e,i,r,n,4);)i+=1;for(i=t-1;_(o,a,e,i,r,n,4);)i-=1;return a}function T(e,t,n,r,o){void 0===o&&(o=[0]);for(var a=[],i=e+1,s=t+1;_(o,a,i,s,r,n,2);)i+=1,s+=1;for(i=e-1,s=t-1;_(o,a,i,s,r,n,2);)i-=1,s-=1;for(i=e+1,s=t-1;_(o,a,i,s,r,n,2);)i+=1,s-=1;for(i=e-1,s=t+1;_(o,a,i,s,r,n,2);)i-=1,s+=1;return a}function I(e,t,n,r,o){var a=[];return n?(k(0,a,e,t+1,r,!0)&&1===t&&C(0,a,e,t+2,r),e>0&&r[e-1][t][3]&&_(o,a,e-1,t+1,r,!0,1),e<7&&r[e+1][t][3]&&_(o,a,e+1,t+1,r,!0,1),a):(k(0,a,e,t-1,r,!1)&&6===t&&C(0,a,e,t-2,r),e>0&&r[e-1][t][3]&&_(o,a,e-1,t-1,r,!1,1),e<7&&r[e+1][t][3]&&_(o,a,e+1,t-1,r,!1,1),a)}function O(e,t,n,r,o){var a=[];return _(o,a,e+1,t+1,r,n,9),_(o,a,e-1,t+1,r,n,9),_(o,a,e+1,t-1,r,n,9),_(o,a,e-1,t-1,r,n,9),_(o,a,e+1,t,r,n,9),_(o,a,e-1,t,r,n,9),_(o,a,e,t+1,r,n,9),_(o,a,e,t-1,r,n,9),r[e][t][3]&&(r[0][t][3]&&0===r[1][t][0]&&0===r[2][t][0]&&0===r[3][t][0]&&_(o,a,2,t,r,n,9),r[7][t][3]&&0===r[5][t][0]&&0===r[6][t][0]&&_(o,a,6,t,r,n,9)),a}function j(e,t,n,r,o){var a=[];return _(o,a,e+1,t+2,r,n,3),_(o,a,e+1,t-2,r,n,3),_(o,a,e-1,t+2,r,n,3),_(o,a,e-1,t-2,r,n,3),_(o,a,e+2,t+1,r,n,3),_(o,a,e+2,t-1,r,n,3),_(o,a,e-2,t+1,r,n,3),_(o,a,e-2,t-1,r,n,3),a}function S(e){for(var t=[],n=0;n<8;n+=1)for(var r=0;r<8;r+=1){var o=10*~~e[n][r][0]+~~e[n][r][1]+55;o<65&&(o=65),t[8*n+r]=String.fromCharCode(o)}return t.join("")}function x(e,t){var n=e[t[0]][t[1]],r=(String(n[1]),e[t[2]][t[3]][0].toString()+e[t[2]][t[3]][1]);return 1===n[1]&&t[0]!==t[2]&&"00"===r&&(r=1===n[0]?"21":"11"),n[0].toString()+n[1]+function(e,t,n,r){return String.fromCharCode(97+e)+(t+1)+String.fromCharCode(97+n)+(r+1)}(t)+r}function N(e,t,n){var r=x(t.table,e);t.moves.push(r),t.table=E(e,t.table),t.wNext=!t.wNext,t.pollNum+=1,t.moveCount+=1,t.table=v(t.table,t.wNext);var o=S(t.table);return t.allPastTables.push(o),t}function A(e,t){var n=[],r=1;t&&(r+=1);for(var o=0;o<8;o+=1)for(var a=0;a<8;a+=1)if(9===e[o][a][1]&&e[o][a][0]===r){n=T(o,a,t,e,[0]);for(var i=0;i<n.length;i+=1)if(5===e[n[i][0]][n[i][1]][1]||2===e[n[i][0]][n[i][1]][1])return!0;n=D(o,a,t,e,[0]);for(i=0;i<n.length;i+=1)if(5===e[n[i][0]][n[i][1]][1]||4===e[n[i][0]][n[i][1]][1])return!0;n=j(o,a,t,e,[0]);for(i=0;i<n.length;i+=1)if(3===e[n[i][0]][n[i][1]][1])return!0;if(t?a<7:a>0){n=I(o,a,t,e,[0]);for(i=0;i<n.length;i+=1)if(1===e[n[i][0]][n[i][1]][1])return!0}n=O(o,a,t,e,[0]);for(i=0;i<n.length;i+=1)if(9===e[n[i][0]][n[i][1]][1])return!0}return!1}function E(e,t,n,r){if(void 0===r)r=[0];for(var o=[],a=0;a<8;a+=1){o[a]=new Array(8);for(var i=0;i<8;i+=1){o[a][i]=new Array(4);for(var s=0;s<4;s+=1)o[a][i][s]=t[a][i][s]}}if(9===o[e[0]][e[1]][1]&&o[e[0]][e[1]][3])switch(e[2]){case 2:switch(e[3]){case 0:o=E([0,0,3,0],o);break;case 7:o=E([0,7,3,7],o)}break;case 6:switch(e[3]){case 0:o=E([7,0,5,0],o);break;case 7:o=E([7,7,5,7],o)}}for(var c=0;c<8;c+=1)o[c][3][3]=!1,o[c][4][3]=!1;1===o[e[0]][e[1]][1]&&(1===e[1]&&3===e[3]||6===e[1]&&4===e[3])&&(o[e[0]][e[1]][3]=!0);return 1===o[e[0]][e[1]][1]&&0===o[e[2]][e[3]][0]&&e[0]!==e[2]&&(!0,o[e[2]][e[3]]=o[e[2]][e[1]],o[e[2]][e[1]]=[0,0,!1,!1,!1]),r[0]=o[e[2]][e[3]][1],1!==o[e[0]][e[1]][1]||7!==e[3]&&0!==e[3]||(o[e[0]][e[1]][1]=5,r[0]+=4),o[e[0]][e[1]][2]+=1,o[e[2]][e[3]]=o[e[0]][e[1]],o[e[0]][e[1]]=[0,0,0],1!==o[e[2]][e[3]][1]&&(o[e[2]][e[3]][3]=!1),o}function P(e,t,n,r){return[e,t,n,r]}function M(e,t,n){return e>=0&&t>=0&&e<=7&&t<=7?n[e][t]:[3]}function H(e,t,n,r,o,a,i,s,c,u){var l=function(e,t,n){return e>=0&&t>=0&&e<=7&&t<=7?n[e][t]:[0]}(n,r,a);return 0!==l[0]?(l[0]===o?(c[0]+=1,i[n][r]=!0):(u[8*n+r]=!0,s[s.length]=[e,t,n,r,a[e][t][1],a[n][r][1]]),!0):(u[8*n+r]=!0,!1)}function U(e,t,n,r,o,a,i,s,c,u){return!(n<0||n>7)&&(0!==a[n][r][0]?(a[n][r][0]===o?(c[0]+=1,i[n][r]=!0):(u[8*n+r]=!0,s[s.length]=[e,t,n,r,a[e][t][1],a[n][r][1]]),!0):(u[8*n+r]=!0,!1))}function R(e,t,n,r,o,a,i,s,c,u){var l=M(n,r,a);return 3!==l[0]&&(0===l[0]?(u[8*n+r]=!0,!0):(l[0]===o?(c[0]+=1,i[n][r]=!0):(u[8*n+r]=!0,s[s.length]=[e,t,n,r,a[e][t][1],a[n][r][1]]),!1))}function B(e,t,n,r){for(var o=new Array(8),a=0;a<8;a+=1){o[a]=new Array(8);for(var i=0;i<8;i+=1)o[a][i]=new Int8Array(2),o[a][i][0]=t[a][i][0],o[a][i][1]=t[a][i][1]}if(9===o[e[0]][e[1]][1]&&o[e[0]][e[1]][3])switch(e[2]){case 2:switch(e[3]){case 0:o=B([0,0,3,0],o);break;case 7:o=B([7,0,5,0],o)}break;case 7:switch(e[3]){case 0:o=B([0,7,3,7],o);break;case 7:o=B([7,7,5,7],o)}}return 1!==o[e[0]][e[1]][1]||7!==e[3]&&0!==e[3]||(o[e[0]][e[1]][1]=5),o[e[2]][e[3]]=o[e[0]][e[1]],o[e[0]][e[1]]=[0,0,0],o}function G(e,t,n,r,o,a,i,s){switch(r[e][t][1]){case 1:!function(e,t,n,r,o,a,i,s){if(2===o)return U(e,t,e+1,t+1,o,n,r,a,i,s),void U(e,t,e-1,t+1,o,n,r,a,i,s);U(e,t,e+1,t-1,o,n,r,a,i,s),U(e,t,e-1,t-1,o,n,r,a,i,s)}(e,t,r,o,n,a,i,s);break;case 2:!function(e,t,n,r,o,a,i,s){for(var c=e+1,u=t+1;R(e,t,c,u,o,n,r,a,i,s);)c+=1,u+=1;for(c=e-1,u=t-1;R(e,t,c,u,o,n,r,a,i,s);)c-=1,u-=1;for(c=e-1,u=t+1;R(e,t,c,u,o,n,r,a,i,s);)c-=1,u+=1;for(c=e+1,u=t-1;R(e,t,c,u,o,n,r,a,i,s);)c+=1,u-=1}(e,t,r,o,n,a,i,s);break;case 3:!function(e,t,n,r,o,a,i,s){H(e,t,e+1,t+2,o,n,r,a,i,s),H(e,t,e+1,t-2,o,n,r,a,i,s),H(e,t,e-1,t+2,o,n,r,a,i,s),H(e,t,e-1,t-2,o,n,r,a,i,s),H(e,t,e+2,t+1,o,n,r,a,i,s),H(e,t,e+2,t-1,o,n,r,a,i,s),H(e,t,e-2,t+1,o,n,r,a,i,s),H(e,t,e-2,t-1,o,n,r,a,i,s)}(e,t,r,o,n,a,i,s);break;case 4:!function(e,t,n,r,o,a,i,s){for(var c=e+1;R(e,t,c,t,o,n,r,a,i,s);)c+=1;for(c=e-1;R(e,t,c,t,o,n,r,a,i,s);)c-=1;for(c=t+1;R(e,t,e,c,o,n,r,a,i,s);)c+=1;for(c=t-1;R(e,t,e,c,o,n,r,a,i,s);)c-=1}(e,t,r,o,n,a,i,s);break;case 5:!function(e,t,n,r,o,a,i,s){for(var c=e+1;R(e,t,c,t,o,n,r,a,i,s);)c+=1;for(c=e-1;R(e,t,c,t,o,n,r,a,i,s);)c-=1;for(c=t+1;R(e,t,e,c,o,n,r,a,i,s);)c+=1;for(c=t-1;R(e,t,e,c,o,n,r,a,i,s);)c-=1;c=e+1;for(var u=t+1;R(e,t,c,u,o,n,r,a,i,s);)c+=1,u+=1;for(c=e-1,u=t-1;R(e,t,c,u,o,n,r,a,i,s);)c-=1,u-=1;for(c=e-1,u=t+1;R(e,t,c,u,o,n,r,a,i,s);)c-=1,u+=1;for(c=e+1,u=t-1;R(e,t,c,u,o,n,r,a,i,s);)c+=1,u-=1}(e,t,r,o,n,a,i,s);break;case 9:!function(e,t,n,r,o,a,i,s){H(e,t,e+1,t,o,n,r,a,i,s),H(e,t,e-1,t,o,n,r,a,i,s),H(e,t,e+1,t+1,o,n,r,a,i,s),H(e,t,e-1,t+1,o,n,r,a,i,s),H(e,t,e+1,t-1,o,n,r,a,i,s),H(e,t,e-1,t-1,o,n,r,a,i,s),H(e,t,e,t+1,o,n,r,a,i,s),H(e,t,e,t-1,o,n,r,a,i,s),n[e][t][3]&&(n[0][t][3]&&0===n[1][t][0]&&0===n[2][t][0]&&0===n[3][t][0]&&H(e,t,2,t,o,n,r,a,i,s),n[7][t][3]&&0===n[5][t][0]&&0===n[6][t][0]&&H(e,t,6,t,o,n,r,a,i,s))}(e,t,r,o,n,a,i,s)}}function V(e,t,n,r,o){var a=1,i=1,s=1;switch(o&&o.modType){case"fwV":a=o.modConst;break;case"bHK":i=o.modConst;break;case"hKM":s=o.modConst}var c,u,l=0,f=[],h=[],d=new Uint8Array(1),v=new Uint8Array(1),p=0,m=0,g=0,b=0,w=[new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8)];t?(u=1,c=2):(c=1,u=2);for(var y={},_={},C=0;C<8;C+=1)for(var k=0;k<8;k+=1)e[C][k][0]===c?(1===e[C][k][1]&&(l+=1===c?7-k:k),G(C,k,c,e,w,f,d,y)):0!==e[C][k][0]&&(1===e[C][k][1]&&(l-=1===u?7-k:k),G(C,k,u,e,w,h,v,9===e[C][k][1]?_:{}));f.forEach((function(e){var t=0;(t=w[e[2]][e[3]]?e[5]-e[4]:e[5])>g&&(g=t,e),p+=t})),h.forEach((function(e){var t=0;(t=w[e[2]][e[3]]?e[5]-e[4]:e[5])>b&&(b=t),m+=t}));var D=d[0]-v[0],T=p-m,I=Object.keys(_),O=8-I.length,j=I.reduce((function(e,t){return y[t]?e+1:e}),0);l*=1*a,O*=1*s,j*=1*i;var S=new Int32Array(1);return S[0]=65536*g-4096*b,n?S[0]-=(D<<8)+(T<<4)+l+(O<<9)+(j<<10):S[0]+=(D<<8)+(T<<4)+l+(O<<9)+(j<<10),S}var L=function(e,t){this.id=Math.random();var n=d.shouldIDraw(e);this.shouldIDraw=n,t&&(this.mod=t),this.sharedData={shouldIDraw:n,origWNext:e.wNext,desiredDepth:e.desiredDepth,oppKingPos:w(e.table,!e.wNext),origProtect:b(e.table,e.wNext),origData:p(e.table,e.wNext),origDeepDatatt:V(e.table,!0,!0,e.wNext,t),origDeepDatatf:V(e.table,!0,!1,e.wNext,t),origDeepDataft:V(e.table,!1,!0,e.wNext,t),origDeepDataff:V(e.table,!1,!1,e.wNext,t)},this.moveCoords=m(e.table,e.wNext,!1,0,!0);var r=!1;this.sharedData.origData[0]>1&&(r=!0),this.sharedData.dontLoop=r};function W(e,t){var n=[],r=!e.wNext;if(2===e.depth&&A(e.table,r)&&(n=[new Y(e.table,r,e.depth+1,e.moveTree,e.desiredDepth,100,e.wPlayer,!1,e.gameNum,e.mod,e.shouldIDraw)]),e.trItm)K(e.depth,t);else if(e.depth>e.desiredDepth)t[e.depth][t[e.depth].length]=new ee(e.score,e.moveTree,e.wPlayer);else{var o=1&e.depth;if(e.depth===e.desiredDepth){var a;a=o?(e.score<<16)-V(e.table,e.wNext,!1,e.wPlayer,e.mod,e.shouldIDraw)[0]:(e.score<<16)+V(e.table,e.wNext,!0,e.wPlayer,e.mod,e.shouldIDraw)[0],n[n.length]=new Y([],r,e.depth+1,e.moveTree,e.desiredDepth,a,e.wPlayer,!1,e.gameNum,e.mod,e.shouldIDraw)}else{var i=[];v(e.table,e.wNext,!0,i);for(var s=i.length-1;s>=0;s-=1){var c,u=i[s];c=B(u,e.table);var l,f=e.table[u[2]][u[3]][1];l=o?e.score-f:e.score+f;var h=e.moveTree.concat([u,l]);n[n.length]=new Y(c,r,e.depth+1,h,e.desiredDepth,l,e.wPlayer,!1,e.gameNum,e.mod,e.shouldIDraw)}}n[n.length]=new te(e.depth+1,e.moveTree,e.wPlayer)}return n}function F(e,t){var n=e.progress,r=(new Date).getTime();t&&(e={desiredDepth:e.desiredDepth,smallDeepeningTasks:[e],wPlayer:e.wPlayer,mod:e.mod,shouldIDraw:e.shouldIDraw});for(var o=[],a=e.desiredDepth+2,i=0;i<a;i+=1)o[i]=[];for(;e.smallDeepeningTasks.length>0;)for(var s=W(e.smallDeepeningTasks.pop(),o),c=s.length-1;c>=0;c-=1)e.smallDeepeningTasks[e.smallDeepeningTasks.length]=s[c];var u=(new Date).getTime()-r,l={gameNum:e.gameNum,progress:n,timeItTook:u,score:o[2][0].value,moveTree:o[2][0].moveTree};return!0!==t&&(l.score=o[1][0].value),l}function $(e,t,n,r){var o=function e(t){var n;if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var r=0,o=t.length;r<o;r+=1)n[r]=e(t[r]);return n}if(t instanceof Object){for(var a in n={},t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")}(e);o.moveTask=new L(o,r),o.moveTask.sharedData.desiredDepth=t;var a=new z(o).movesToSend;a.forEach((function(e){e.progress={moveCoords:e.moveCoords,moveIndex:e.moveIndex,done:!1,result:{},expected:void 0}}));var i=[];a.forEach((function(e,t){var n=new X(e);!function(e){for(var t=e.smallDeepeningTasks.pop(),n=W(t,t.resolverArray);n.length>0;){var r=n.pop();e.smallDeepeningTasks[e.smallDeepeningTasks.length]=r}e.smallDeepeningTasksCopy=e.smallDeepeningTasks.slice(),e.resolverArray=[]}(n);for(
//!!!!!!!!!!!implement !!!!!!!!!!typedarray
var r=[];n.smallDeepeningTasks.length>1;){var a=n.smallDeepeningTasks.pop();a.progress=n.progress;var s=F(a,!0);s.value=s.score,r[r.length]=s}var c=[];c[1]=[],c[2]=r,c[3]=[],K(2,c);var u,l=c[1][0],f=l.moveTree[0];if(!o.moveTask.shouldIDraw){var h=E(f,o.table);u=d.checkIfLooped(h,o.allPastTables)}u&&(l.value-=Math.pow(u,5)),l.score=l.value,l.move=f,i[i.length]=l})),i.sort((function(e,t){return e.score<t.score?1:e.score===t.score?0:-1}));var s={result:i,winningMove:i[0],moveCoords:i[0].moveTree[0]};return n&&n(s),s}function K(e,t){if(t[e].length>0){var n=t[e-1];n[n.length]=1&e?t[e].reduce((function(e,t,n,r){return t.value>e.value?{value:t.value,moveTree:t.moveTree}:{value:e.value,moveTree:e.moveTree}})):t[e].reduce((function(e,t,n,r){return t.value<e.value?{value:t.value,moveTree:t.moveTree}:{value:e.value,moveTree:e.moveTree}}))}t[e]=[]}var J,Q,q,Y=function(e,t,n,r,o,a,i,s,c,u,l){this.gameNum=c,this.wPlayer=i,this.table=e,this.wNext=t,this.depth=n,this.moveTree=r,this.desiredDepth=o,this.score=a,this.mod=u,this.shouldIDraw=l},Z=function(e,t,n,r){var o=n.moveTask;this.shouldIDraw=o.shouldIDraw,this.mod=o.mod,this.moveIndex=t,this.moveCoords=e,this.sharedData=o.sharedData,this.sharedData.origTable=n.table,this.sharedData.gameNum=n._id,this.sharedData.desiredDepth=o.sharedData.desiredDepth,this.sharedData.splitMoveID=r,this.timer={},this.history=[]},z=function(e){var t=this;this.shouldIDraw=e.moveTask.shouldIDraw,this.started=new Date,this.splitMoveIndex=void 0,this.splitMoveID=Math.random()*Math.random();var n=[];e.moveTask.moveCoords.forEach((function(r,o){n.push(new Z(r,o,e,t.splitMoveID))})),this.movesToSend=n,this.moves=n.slice(),this.thinkers=[],this.gameNum=e._id,this.origTable=e.table,this.origMoveTask=e.moveTask,this.pendingMoveCount=e.moveTask.moveCoords.length},X=function(e){this.shouldIDraw=e.sharedData.shouldIDraw,this.mod=e.mod,this.gameNum=e.sharedData.gameNum,this.progress=e.progress,this.resolverArray=[],this.initialWNext=e.sharedData.origWNext,this.moveStr=[e.moveCoords[0],e.moveCoords[1],e.moveCoords[2],e.moveCoords[3]],this.initialTreeMoves=[this.moveStr],this.startingTable=e.sharedData.origTable,this.startingAllPastTables=e.sharedData.allPast,this.thisTaskTable=E(this.moveStr,this.startingTable),this.firstDepthValue=this.startingTable[e.moveCoords[2]][e.moveCoords[3]][1],this.desiredDepth=e.sharedData.desiredDepth,this.actualDepth=1,this.tableTree=[],this.moveStrTree=[],this.tableTree[0]=[this.startingTable],this.tableTree[1]=[this.thisTaskTable],this.tableTree[2]=[],this.moveStrTree[0]=[[]],this.moveStrTree[1]=[[this.moveStr]],this.moveStrTree[2]=[[]],this.smallDeepeningTaskCounts=[0,1];var t=new Y(this.thisTaskTable,!this.initialWNext,this.actualDepth,this.initialTreeMoves,this.desiredDepth,this.firstDepthValue,e.cfColor,!1,this.gameNum,this.mod,this.shouldIDraw);this.smallDeepeningTasks=[t],this.solvedSmallDeepeningTasks=[]},ee=function(e,t,n){this.value=e,this.moveTree=t,this.wPlayer=n},te=function(e,t,n){this.trItm=!0,this.depth=e,this.moveTree=t,this.wPlayer=n},ne=function(){this.moveCount=0,this.pendingMoveCount=0,this.desiredDepth=0,this.returnedMoves=[],this.gameIsOn=!0,this.whiteWon=!1,this.blackWon=!1,this.isDraw=!1,this.askWhiteDraw=!1,this.askBlackDraw=!1,this.whiteCanForceDraw=!1,this.blackCanForceDraw=!1,this.wNext=!0,this.moves=[],this.allPastTables=[],this.created=Date.now(),this.moved=null,this.table=function(){for(var e=[],t=0;t<8;t+=1)e[t]=[];for(var n=2;n<6;n+=1)for(var r=0;r<8;r+=1)e[r][n]=[0,0,0,!1,!1];for(var o=0;o<8;o++)e[o][1]=[2,1,0,!1,!1];for(var a=0;a<8;a++)e[a][6]=[1,1,0,!1,!1];return e[0][0]=[2,4,0,!0,!1],e[7][0]=[2,4,0,!0,!1],e[0][7]=[1,4,0,!0,!1],e[7][7]=[1,4,0,!0,!1],e[1][0]=[2,3,0,!0,!1],e[6][0]=[2,3,0,!0,!1],e[1][7]=[1,3,0,!0,!1],e[6][7]=[1,3,0,!0,!1],e[2][0]=[2,2,0,!0,!1],e[5][0]=[2,2,0,!0,!1],e[2][7]=[1,2,0,!0,!1],e[5][7]=[1,2,0,!0,!1],e[3][0]=[2,5,0,!0,!1],e[4][0]=[2,9,0,!0,!1],e[3][7]=[1,5,0,!0,!1],e[4][7]=[1,9,0,!0,!1],v(e,!0)}()},re=0,oe=[],ae=r.options.__b,ie=r.options.__r,se=r.options.diffed,ce=r.options.__c,ue=r.options.unmount;function le(e,t){r.options.__h&&r.options.__h(Q,e,re||t),re=0;var n=Q.__H||(Q.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function fe(e){return re=1,function(e,t,n){var r=le(J++,2);return r.t=e,r.__c||(r.__=[n?n(t):me(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=Q),r.__}(me,e)}function he(){oe.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(ve),e.__H.__h.forEach(pe),e.__H.__h=[]}catch(t){e.__H.__h=[],r.options.__e(t,e.__v)}})),oe=[]}r.options.__b=function(e){Q=null,ae&&ae(e)},r.options.__r=function(e){ie&&ie(e),J=0;var t=(Q=e.__c).__H;t&&(t.__h.forEach(ve),t.__h.forEach(pe),t.__h=[])},r.options.diffed=function(e){se&&se(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==oe.push(t)&&q===r.options.requestAnimationFrame||((q=r.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),de&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);de&&(t=requestAnimationFrame(n))})(he)),Q=void 0},r.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ve),e.__h=e.__h.filter((function(e){return!e.__||pe(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.options.__e(n,e.__v)}})),ce&&ce(e,t)},r.options.unmount=function(e){ue&&ue(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(ve)}catch(e){r.options.__e(e,t.__v)}};var de="function"==typeof requestAnimationFrame;function ve(e){var t=Q;"function"==typeof e.__c&&e.__c(),Q=t}function pe(e){var t=Q;e.__c=e.__(),Q=t}function me(e,t){return"function"==typeof t?t(e):t}var ge=n("UQ27"),be=n.n(ge);function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ye=function(){for(var e,t,n,o=(e=h,t=Q.context[e.__c],(n=le(J++,9)).__c=e,t?(null==n.__&&(n.__=!0,t.sub(Q)),t.props.value):e.__),a=o.gameState,i=o.setGameState,s=a.table,c=fe(),u=c[0],l=c[1],f=Math.min(window.innerHeight,window.innerWidth)/9,d=[],v=0;v<8;v+=1){d[v]=[];for(var p=0;p<8;p+=1)d[v][p]=s[p][7-v],v+p&1&&(d[v][p][7]=!0)}var m=function(e,t,n){if(!u)return n[9]=!0,n[5].forEach((function(e){var t=e[0],n=e[1];s[t][n][9]=!0})),void l({rowIndex:e,colIndex:t});var r=[u.colIndex,7-u.rowIndex,t,7-e];if(r[0]===r[2]&&r[1]===r[3])return l(null),void i(function(e){return we({},e,{table:e.table.map((function(e){return e.map((function(e){return we({},e,{9:null})}))}))})}(a));var o=N(r,a);i(o),l(null),setTimeout((function(){var e=$(o,3).moveCoords;i(we({},N(e,o)))}),0)};return Object(r.h)("div",null,Object(r.h)("table",{className:"main-table unselectable"},Object(r.h)("tbody",null,Object(r.h)("tr",{className:"heading row0",style:{width:f,height:1}},Object(r.h)("td",null),Object(r.h)("td",null,"A"),Object(r.h)("td",null,"B"),Object(r.h)("td",null,"C"),Object(r.h)("td",null,"D"),Object(r.h)("td",null,"E"),Object(r.h)("td",null,"F"),Object(r.h)("td",null,"G"),Object(r.h)("td",null,"H")),d.map((function(e,t){return Object(r.h)("tr",{key:t,style:{height:f}},Object(r.h)("td",null,8-t),e.map((function(e,n){return Object(r.h)("td",{key:n,className:e[7]?be.a.darker:be.a.square},Object(r.h)("div",{style:{height:f},onClick:function(){return m(t,n,e)}},Object(r.h)("img",{src:"/assets/pieces/"+e[0]+e[1]+".png",height:f,width:f,class:""+(e[8]||e[9]?be.a.selected:"")+(e[15]?be.a.selected2:"")})))})))})))))},_e=function(){var e=fe(new ne),t={gameState:e[0],setGameState:e[1]};return Object(r.h)(h.Provider,{value:t},Object(r.h)(ye,null))},Ce=function(){return Object(r.h)(_e,null)},ke=function(){return Object(r.h)("div",{id:"app"},Object(r.h)(c,null),Object(r.h)("div",{id:"main-content"},Object(r.h)(o.Router,null,Object(r.h)(f,{path:"/"}),Object(r.h)(Ce,{path:"/game/"}))))};function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Te=function(e){if("undefined"==typeof window)return{ws:function(){return{do:function(){return new Promise((function(e,t){return e()}))}}}};var t=n("dZLo")(),r={mySocketRules:{},waitingHandlersByConvId:{},serviceName:"client-"+Math.random()*Math.random(),waitingCbsByConvId:{},waitingErrHandlersByConvId:{},wsRoutes:{}};return r.createSocketRule=n("Vn8e")(r),(e=e||{})&&"object"==typeof e&&Object.keys(e).forEach((function(t){r[t]=e[t]})),r.serviceLongName||(r.serviceLongName=r.serviceName),console.log("MSG Client starting..."),{cookies:n("/i48"),sharedWorker:function(e){return console.log("Starting MSG Shared Worker from "+e),new SharedWorker(e)},ws:function(e){var n={onConnect:function(){},onReConnect:function(){},connectCount:0},o=function(){var t=(new Date).getTime()+2e4;return new Promise((function(n,o){!function a(){return 1===r.wsRoutes[e].ws.readyState?n():(new Date).getTime()>t?o("Connect timeout (20s)"):void setTimeout(a,100)}()}))};function a(t,n){return new Promise((function(a,i){var s=Math.random().toString();n.command=t;try{r.waitingCbsByConvId[s]=function(e){return delete r.waitingCbsByConvId[s],delete r.waitingErrHandlersByConvId[s],a(e)},r.waitingErrHandlersByConvId[s]=function(e){return delete r.waitingCbsByConvId[s],delete r.waitingErrHandlersByConvId[s],i(e)},o().then((function(){try{r.wsRoutes[e].ws.send(JSON.stringify(De({owner:r.serviceName,tempConversationId:s},n)))}catch(e){return i(e)}}),i)}catch(e){i(e)}}))}function i(t,n,a){return new Promise((function(i,s){try{o().then((function(){try{r.wsRoutes[e].ws.send(JSON.stringify(De({command:t,data:n,owner:r.serviceLongName,conversationId:a,serviceName:r.serviceName,serviceLongName:r.serviceLongName},n)))}catch(e){return s(e)}}),s).then(i,s)}catch(e){s(e)}}))}var s={doStarted:function(e){r.waitingCbsByConvId[e.tempConversationId](e),delete r.waitingCbsByConvId[e.tempConversationId]},answer:function(e){r.waitingCbsByConvId[e.conversationId](e.data),delete r.waitingCbsByConvId[e.conversationId]},error:function(e){console.error(e),r.waitingHandlersByConvId[e.conversationId].errorHandler(e.data)},do:function(e){(0,r.mySocketRules[e.argObj.cmd].cb)(t(e.argObj.args,r.mySocketRules[e.argObj.cmd].cmdArgs.keys),{message:e,conversationId:e.conversationId,send:function(t){i("answer",t,e.conversationId)},error:function(t){i("error",t,e.conversationId)}})}};if(!r.wsRoutes[e]){var c=De({},s);r.wsRoutes[e]={callBacks:c,route:e},function t(){var o=new WebSocket(e);r.wsRoutes[e].ws=o,o.onopen=function(t){r.log("WS route "+e+" connected."),n.connectCount&&n.onReConnect(t),n.connectCount+=1,n.onConnect(t)},o.onmessage=function(t){var n;try{n=JSON.parse(t.data)}catch(e){n=t.data}var o=r.wsRoutes[e].callBacks[n.command];if(!o)return console.log("No callback found, message:",n,c);o(n)},o.onerror=function(t){console.log("WS ERROR on route "+e+": "+t.message+"\n"+t.stack)},o.onclose=function(){console.log("WS connection on route "+e+" closed, retry in 2s..."),setTimeout((function(){t()}),2e3)}}()}function u(e){var n=t(arguments),i={dataHandler:function(){r.log("in pure datahandler!!!!!!!!!!!")},errorHandler:function(e){r.log(e,"in pure errorhandler!!!!!!!!!!!")}};if(n.cb){var s={onData:function(e){i.dataHandler=e}};n.cb(s)}return new Promise((function(e,t){o().then((function(){return a("do",{argObj:n})})).then((function(n){i.errorHandler=function(e){return delete r.waitingCbsByConvId[n.conversationId],delete r.waitingHandlersByConvId[n.conversationId],t(e)},r.waitingCbsByConvId[n.conversationId]=function(t){return delete r.waitingCbsByConvId[n.conversationId],delete r.waitingHandlersByConvId[n.conversationId],e(t)},r.waitingHandlersByConvId[n.conversationId]=i}),(function(e){r.log(e),t(e.message+"\n"+e.stack)}))}))}function l(e){var n=t(arguments);return new Promise((function(e,t){return r.createSocketRule(n)}))}return{do:u,on:l,distObj:function e(t){var n=!1,o=function(){return new Promise((function(e,t){!function t(){if(n)return e();setTimeout(t,100)}()}))},a="string"==typeof t?{name:t}:t;"function"==typeof a.onChange&&(a.onChange=[a.onChange]),a.onChange||(a.onChange=[]),a.store||(a.store={}),Object.keys(a.store).forEach((function(t){if("object"==typeof a.store[t]){var n=e({name:a.name+"\\"+t,store:a.store[t],dontGetInitVal:!0});a.store[t]=n.data,a.onChange.forEach(n.onChange)}}));var i=new Proxy(a.store,{set:function(t,n,r){return t[n]=r,o().then((function(){return u("$$MSG_DISTOBJ_CHANGE_"+a.name,{name:a.name,prop:n,value:r})})).then((function(o){if(a.onChange.forEach((function(e){return e({prop:n,value:r,self:!0})})),"object"==typeof r){var i=e({name:a.name+"\\"+n,store:r,dontGetInitVal:!0});t[n]=i.data,a.onChange.forEach(i.onChange)}}),console.error),!0},deleteProperty:function(e,t){return delete e[t],u("$$MSG_DISTOBJ_CHANGE_"+a.name,{name:a.name,prop:t,deleted:!0}).then((function(){a.onChange.forEach((function(e){return e({prop:t,deleted:!0,self:!0})}))}),console.error),!0}});return a.dontGetInitVal&&(n=!0),a.dontGetInitVal||u("$$MSG_GET_DISTOBJ_"+a.name,{name:a.name,value:a.store}).then((function(t){Object.keys(t).forEach((function(n){if(a.store[n]=t[n],"object"==typeof t[n]){var r=e({name:a.name+"\\"+n,store:t[n],dontGetInitVal:!0});a.store[n]=r.data,a.onChange.forEach(r.onChange)}a.onChange.forEach((function(e){return e({prop:n,value:t[n]})}))})),n=!0}),r.log),console.log("signing up for $$MSG_DISTOBJ_CHANGE_"+a.name),l("$$MSG_DISTOBJ_CHANGE_"+a.name,{},(function(t,n){var r=t.cmdArgs.prop,o=t.cmdArgs.value,i=t.cmdArgs.deleted;if(a.store[r]=o,i&&delete a.store[r],"object"==typeof o){var s=e({name:a.name+"\\"+r,store:o,dontGetInitVal:!0});a.store[r]=s.data,a.onChange.forEach(s.onChange)}a.onChange.forEach((function(e){return e({prop:r,value:o,deleted:i})})),n.send({message:"Change on distObj "+a.name+" registered",prop:r})})),{data:i,onChange:function(e){a.onChange.push(e)},options:a,waitForReady:o}},onConnect:function(e){return n.onConnect=e},onReConnect:function(e){return n.onReConnect=e},options:n}}}}({serviceName:"client-"+Math.random(),PORT:9876,log:console.log}).ws("ws://192.168.1.164:3300/gameSocket");console.log({gameSocket:Te}),Te.do("newGame",{a:1}).then(console.log),console.log("Starting workers..");t.default=ke},UQ27:function(e,t,n){e.exports={darker:"darker__3FUDV",square:"square__2d7yg",selected2:"selected2__215Pa",fadeIt:"fadeIt__2Id_H",selected:"selected__1JKN2"}},VcSg:function(e,t){e.exports=function(e){return e&&"[object Function]"==={}.toString.call(e)}},Vn8e:function(e,t){e.exports=function(e){return function(t,n){return void 0===n&&(n={}),n.type=t.publicSocket?"publicSocket":"socket",n.publicSocketRoute=t.publicSocket?t.publicSocket.route:void 0,n.cmd=t.cmd,e.mySocketRules[n.cmd]=t,n}}},Y3FI:function(e,t,n){"use strict";n.r(t),n.d(t,"subscribers",(function(){return d})),n.d(t,"getCurrentUrl",(function(){return p})),n.d(t,"route",(function(){return m})),n.d(t,"Router",(function(){return k})),n.d(t,"Route",(function(){return T})),n.d(t,"Link",(function(){return D})),n.d(t,"exec",(function(){return i}));var r=n("HteQ"),o={};function a(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t,n){var r,a=/(?:\?([^#]*))?(#.*)?$/,i=e.match(a),s={};if(i&&i[1])for(var c=i[1].split("&"),l=0;l<c.length;l++){var f=c[l].split("=");s[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}e=u(e.replace(a,"")),t=u(t||"");for(var h=Math.max(e.length,t.length),d=0;d<h;d++)if(t[d]&&":"===t[d].charAt(0)){var v=t[d].replace(/(^:|[+*?]+$)/g,""),p=(t[d].match(/[+*?]+$/)||o)[0]||"",m=~p.indexOf("+"),g=~p.indexOf("*"),b=e[d]||"";if(!b&&!g&&(p.indexOf("?")<0||m)){r=!1;break}if(s[v]=decodeURIComponent(b),m||g){s[v]=e.slice(d).map(decodeURIComponent).join("/");break}}else if(t[d]!==e[d]){r=!1;break}return(!0===n.default||!1!==r)&&s}function s(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function c(e,t){return e.index=t,e.rank=function(e){return e.props.default?0:(t=e.props.path,u(t).map(l).join(""));var t}(e),e.props}function u(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function l(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var f=null,h=[],d=[],v={};function p(){var e;return""+((e=f&&f.location?f.location:f&&f.getCurrentLocation?f.getCurrentLocation():"undefined"!=typeof location?location:v).pathname||"")+(e.search||"")}function m(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=h.length;t--;)if(h[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),f&&f[t]?f[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),g(e)}function g(e){for(var t=!1,n=0;n<h.length;n++)!0===h[n].routeTo(e)&&(t=!0);for(var r=d.length;r--;)d[r](e);return t}function b(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return m(t)}}function w(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button))return b(e.currentTarget||e.target||this),y(e)}function y(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function _(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(b(t))return y(e)}}while(t=t.parentNode)}}var C=!1;var k=function(e){function t(t){e.call(this,t),t.history&&(f=t.history),this.state={url:t.url||p()},C||("function"==typeof addEventListener&&(f||addEventListener("popstate",(function(){g(p())})),addEventListener("click",_)),C=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){var t=Object(r.toChildArray)(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){h.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;f&&(this.unlisten=f.listen((function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))}))),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),h.splice(h.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(c).sort(s).map((function(e){var o=i(t,e.props.path,e.props);if(o){if(!1!==n){var s={url:t,matches:o};return a(s,o),delete s.ref,delete s.key,Object(r.cloneElement)(e,s)}return e}})).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,o=e.onChange,a=t.url,i=this.getMatchingChildren(Object(r.toChildArray)(n),a,!0),s=i[0]||null,c=this.previousUrl;return a!==c&&(this.previousUrl=a,"function"==typeof o&&o({router:this,url:a,previous:c,active:i,current:s})),s},t}(r.Component),D=function(e){return Object(r.createElement)("a",a({onClick:w},e))},T=function(e){return Object(r.createElement)(e.component,e)};k.subscribers=d,k.getCurrentUrl=p,k.route=m,k.Router=k,k.Route=T,k.Link=D,k.exec=i,t.default=k},dZLo:function(e,t,n){var r=n("VcSg");e.exports=function(e){function t(e){try{return JSON.parse(e)}catch(t){return e}}return e||(e={}),function(n,o){o||(o=e.keys);for(var a=Object.keys(n).length,i=[],s=0;s<a;s+=1)i.push(n[s]);var c=i.length,u=null,l=0;do{u=i[l],l+=1}while("string"!=typeof u&&l<c);for(var f=0,h=u.length;h--;)"}"===u[h]&&(f+=1),"{"===u[h]&&(f-=1),f&&" "===u[h]&&(u=u.substring(0,h)+u.substring(h+1,u.length));var d=u.split(" "),v=(d[0],null),p=0;do{v=i[p],p+=1}while("object"!=typeof v&&p<c);"object"!=typeof v&&(v={}),v||(v={});for(var m=d.slice(1),g=0;m[g];){var b=m[g];if("-"===b[0]){var w=b.substring(1),y="";if(o&&o.forEach&&o.indexOf(w)<0)for(var _=o.length;_--;)0===o[_].indexOf(w)&&void 0===v[o[_]]&&(y=o[_]);if(m[g+1]&&"-"!==m[g+1][0]){var C=t(m[g+1]);v[w]=C,y&&(v[y]=C),m.splice(g+1,1)}else v[w]=1,y&&(v[y]=1)}else v.param=b;g+=1}for(var k,D=i.length,T=0;T<D;T+=1)r(i[T])&&(k=k?[].concat(k).concat(i[T]):i[T]);var I=[].concat(k);return k||(k=function(){}),{param:v.param,splitCmd:d,cmd:d[0],cmdStr:u,cmdArgs:v,args:i,cb:k,cbs:I}}}},fajk:function(e,t,n){},"ox/y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.Match=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("HteQ"),a=n("Y3FI");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.Match=function(e){function t(){var n,r;i(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(a))),r.update=function(e){r.nextUrl=e,r.setState({})},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){a.subscribers.push(this.update)},t.prototype.componentWillUnmount=function(){a.subscribers.splice(a.subscribers.indexOf(this.update)>>>0,1)},t.prototype.render=function(e){var t=this.nextUrl||(0,a.getCurrentUrl)(),n=t.replace(/\?.+$/,"");return this.nextUrl=null,e.children({url:t,path:n,matches:!1!==(0,a.exec)(n,e.path,{})})},t}(o.Component),u=function(e){var t=e.activeClassName,n=e.path,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["activeClassName","path"]);return(0,o.h)(c,{path:n||i.href},(function(e){var n=e.matches;return(0,o.h)(a.Link,r({},i,{class:[i.class||i.className,n&&t].filter(Boolean).join(" ")}))}))};t.Link=u,t.default=c,c.Link=u},ySiU:function(e,t,n){e.exports={header:"header__3QGkI",active:"active__3gItZ"}}});
//# sourceMappingURL=ssr-bundle.js.map