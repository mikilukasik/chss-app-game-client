module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s="QfWi")}({FA6U:function(e,t,r){e.exports={home:"home__MseGd"}},GFNa:function(e,t,r){},HteQ:function(e,t){e.exports=require("preact")},QfWi:function(e,t,r){"use strict";r.r(t);r("GFNa");var n=r("HteQ"),o=r("Y3FI"),a=r("ox/y"),i=r("ySiU"),s=r.n(i),u=function(){return Object(n.h)("header",{class:s.a.header},Object(n.h)("h1",null,"Preact App"),Object(n.h)("nav",null,Object(n.h)(a.Link,{activeClassName:s.a.active,href:"/"},"Home"),Object(n.h)(a.Link,{activeClassName:s.a.active,href:"/game"},"Game")))},c=r("FA6U"),h=r.n(c),l=function(){return Object(n.h)("div",{class:h.a.home},Object(n.h)("h1",null,"Home"),Object(n.h)("p",null,"This is the Home component."))},f=(r("fajk"),Object(n.createContext)("test")),p={getPieceValues:function(e){var t={wVal:0,bVal:0};return e.table.forEach((function(e){e.forEach((function(e){switch(e[0]){case 1:t.bVal+=e[1];break;case 2:t.wVal+=e[1]}}))})),t},shouldIDraw:function(e){var t=this.getPieceValues(e);if(e.wNext){if(t.wVal<t.bVal)return!0}else if(t.wVal>t.bVal)return!0;return!1},checkIfLooped:function(e,t){var r=0,n=I(e);return t.forEach((function(e){e===n&&(r+=1)})),r}};function v(e,t,r,n){for(var o=t?2:1,a=0;a<8;a+=1)for(var i=0;i<8;i+=1)e[a][i][0]===o?e[a][i][5]=w(a,i,t,e,!1,!1,[0],r,n):e[a][i][5]=[];return e}function d(e,t,r){var n=0,o=0,a=0,i=[0],s=[0],u=0,c=0;void 0===r&&(r=_(e,!t));var h=1;if(t&&(h=2),t&&e[4][0][3]){var l=!1;e[0][0][3]&&(n+=3,l=!0,0===e[3][0][0]&&(n+=1),0===e[2][0][0]&&(n+=3),0===e[1][0][0]&&(n+=1),2===e[2][1][0]&&(n+=1,1===e[2][1][1]&&(n+=4)),2===e[1][1][0]&&(n+=1,1===e[1][1][1]&&(n+=4)),2===e[0][1][0]&&(n+=1,1===e[0][1][1]&&(n+=4))),e[7][0][3]&&(l=!0,o+=3,0===e[6][0][0]&&(o+=1),0===e[5][0][0]&&(o+=3),2===e[7][1][0]&&(o+=1,1===e[7][1][1]&&(o+=4)),2===e[6][1][0]&&(o+=1,1===e[6][1][1]&&(o+=4)),2===e[5][1][0]&&(o+=1,1===e[5][1][1]&&(o+=4))),l&&(1===e[3][1][1]&&2===e[3][1][0]&&(n-=6),1===e[4][1][1]&&2===e[4][1][0]&&(o-=6),2===e[2][0][1]&&2===e[2][0][0]&&(n-=6),2===e[5][0][1]&&2===e[5][0][0]&&(o-=6))}!t&&e[4][7][3]&&(l=!1,e[0][7][3]&&(l=!0,n+=3,0===e[3][7][0]&&(n+=1),0===e[2][7][0]&&(n+=3),0===e[1][7][0]&&(n+=1),1===e[2][6][0]&&(n+=1,1===e[2][6][1]&&(n+=4)),1===e[1][6][0]&&(n+=1,1===e[1][6][1]&&(n+=4)),1===e[0][6][0]&&(n+=1,1===e[0][6][1]&&(n+=4))),e[7][7][3]&&(l=!0,o+=3,0===e[6][7][0]&&(o+=1),0===e[5][7][0]&&(o+=3),1===e[7][6][0]&&(o+=1,1===e[7][6][1]&&(o+=4)),1===e[6][6][0]&&(o+=1,1===e[6][6][1]&&(o+=4)),1===e[5][6][0]&&(o+=1,1===e[5][6][1]&&(o+=4))),l&&(1===e[3][6][1]&&1===e[3][6][0]&&(n-=4),1===e[4][6][1]&&1===e[4][6][0]&&(o-=4),2===e[2][7][1]&&1===e[2][7][0]&&(n-=4),2===e[5][7][1]&&1===e[5][7][0]&&(o-=4)));for(var f=0,p=0;p<8;p+=1)for(var v=0;v<8;v+=1)e[p][v][0]===h?(c+=(7-Math.abs(r[0]-p)+(7-Math.abs(r[1]-v)))*e[p][v][1],w(p,v,t,e,!0,!0,i),e[p][v][2]>f&&(f=e[p][v][2]),u+=t?v:7-v,a+=e[p][v][1]):0!==e[p][v][0]&&(w(p,v,!t,e,!0,!0,s).length-2,u-=t?(7-v)/10:v/10,a-=e[p][v][1]);return[a,i[0],s[0],n,o,0,u,f,c]}function m(e,t,r,n,o){var a=t?2:1,i=[];r&&(t=!t);for(var s=[0],u=0;u<8;u+=1)for(var c=0;c<8;c+=1)e[u][c][0]===a&&w(u,c,t,e,!o,!0,s).forEach((function(e){i[i.length]=[u,c,e[0],e[1]]}));return i}function b(e,t){var r=1;t&&(r=2);var n=0;return m(e,t,!0).forEach((function(t){e[t[2]][t[3]][0]===r&&(e[t[2]][t[3]][6]=!0,9===e[t[0]][t[1]][1]?n+=2*(9-e[t[2]][t[3]][1]):n+=9-e[t[2]][t[3]][1])})),n}function g(e,t){return b(e,t)-b(e,!t)}function _(e,t){var r=1;t&&(r+=1);for(var n=0;n<8;n+=1)for(var o=0;o<8;o+=1)if(9===e[n][o][1]&&e[n][o][0]===r)return[n,o]}function w(e,t,r,n,o,a,i,s,u){void 0===i&&(i=[0]);var c=n[e][t][1],h=[];switch(c){case 1:h=j(e,t,r,n,i);break;case 2:h=O(e,t,r,n,i);break;case 3:h=C(e,t,r,n,i);break;case 4:h=k(e,t,r,n,i);break;case 5:h=function(e,t,r,n,o){void 0===o&&(o=[0]);var a=[],i=e+1,s=t+1;for(;y(o,a,i,s,n,r,5);)i+=1,s+=1;i=e-1,s=t-1;for(;y(o,a,i,s,n,r,5);)i-=1,s-=1;i=e+1,s=t-1;for(;y(o,a,i,s,n,r,5);)i+=1,s-=1;i=e-1,s=t+1;for(;y(o,a,i,s,n,r,5);)i-=1,s+=1;i=e+1;for(;y(o,a,i,t,n,r,5);)i+=1;i=e-1;for(;y(o,a,i,t,n,r,5);)i-=1;i=t+1;for(;y(o,a,e,i,n,r,5);)i+=1;i=t-1;for(;y(o,a,e,i,n,r,5);)i-=1;return a}(e,t,r,n,i);break;case 9:h=x(e,t,r,n,i)}if(void 0!==u&&h.forEach((function(r){u[u.length]=S(e,t,r[0],r[1])})),!o){for(var l=h.length-1;l>=0;l-=1)P(U(S(e,t,h[l][0],h[l][1]),n,a),r)&&h.splice(l,1);if(9===c&&n[e][t][3]){if(P(n,r))for(var f=h.length-1;f>=0;f-=1)h[f][1]!==t||h[f][0]!==e-2&&h[f][0]!==e+2||h.splice(f,1);var p=!0,v=!0;for(l=h.length-1;l>=0;l-=1)h[l][1]===t&&h[l][0]===e-1&&(p=!1),h[l][1]===t&&h[l][0]===e+1&&(v=!1);for(l=h.length-1;l>=0;l-=1)h[l][1]===t&&(h[l][0]===e-2&&p||h[l][0]===e+2&&v)&&h.splice(l,1)}}return h}function y(e,t,r,n,o,a,i){if(3===M(r,n,o)[0])return!1;var s=a?2:1,u=o[r][n];if(u[0]===s)return!1;if(t[t.length]=[r,n,u[1]],0===u[0])return!0;var c=u[1];return u[6]&&(c-=i),e[0]<c&&(e[0]=c),!1}function D(e,t,r,n,o,a,i){0===o[r][n][0]&&(t[t.length]=[r,n,0])}function T(e,t,r,n,o,a,i){var s=a?1:2;if(r>0&&o[r-1][n][0]===s&&(t[t.length]=[r-1,n,o[r-1][n][1]]),r<7&&o[r+1][n][0]===s&&(t[t.length]=[r+1,n,o[r+1][n][1]]),0===o[r][n][0])return t[t.length]=[r,n,0],!0}function k(e,t,r,n,o){void 0===o&&(o=[0]);for(var a=[],i=e+1;y(o,a,i,t,n,r,4);)i+=1;for(i=e-1;y(o,a,i,t,n,r,4);)i-=1;for(i=t+1;y(o,a,e,i,n,r,4);)i+=1;for(i=t-1;y(o,a,e,i,n,r,4);)i-=1;return a}function O(e,t,r,n,o){void 0===o&&(o=[0]);for(var a=[],i=e+1,s=t+1;y(o,a,i,s,n,r,2);)i+=1,s+=1;for(i=e-1,s=t-1;y(o,a,i,s,n,r,2);)i-=1,s-=1;for(i=e+1,s=t-1;y(o,a,i,s,n,r,2);)i+=1,s-=1;for(i=e-1,s=t+1;y(o,a,i,s,n,r,2);)i-=1,s+=1;return a}function j(e,t,r,n,o){var a=[];return r?(T(0,a,e,t+1,n,!0)&&1===t&&D(0,a,e,t+2,n),e>0&&n[e-1][t][3]&&y(o,a,e-1,t+1,n,!0,1),e<7&&n[e+1][t][3]&&y(o,a,e+1,t+1,n,!0,1),a):(T(0,a,e,t-1,n,!1)&&6===t&&D(0,a,e,t-2,n),e>0&&n[e-1][t][3]&&y(o,a,e-1,t-1,n,!1,1),e<7&&n[e+1][t][3]&&y(o,a,e+1,t-1,n,!1,1),a)}function x(e,t,r,n,o){var a=[];return y(o,a,e+1,t+1,n,r,9),y(o,a,e-1,t+1,n,r,9),y(o,a,e+1,t-1,n,r,9),y(o,a,e-1,t-1,n,r,9),y(o,a,e+1,t,n,r,9),y(o,a,e-1,t,n,r,9),y(o,a,e,t+1,n,r,9),y(o,a,e,t-1,n,r,9),n[e][t][3]&&(n[0][t][3]&&0===n[1][t][0]&&0===n[2][t][0]&&0===n[3][t][0]&&y(o,a,2,t,n,r,9),n[7][t][3]&&0===n[5][t][0]&&0===n[6][t][0]&&y(o,a,6,t,n,r,9)),a}function C(e,t,r,n,o){var a=[];return y(o,a,e+1,t+2,n,r,3),y(o,a,e+1,t-2,n,r,3),y(o,a,e-1,t+2,n,r,3),y(o,a,e-1,t-2,n,r,3),y(o,a,e+2,t+1,n,r,3),y(o,a,e+2,t-1,n,r,3),y(o,a,e-2,t+1,n,r,3),y(o,a,e-2,t-1,n,r,3),a}function I(e){for(var t=[],r=0;r<8;r+=1)for(var n=0;n<8;n+=1){var o=10*~~e[r][n][0]+~~e[r][n][1]+55;o<65&&(o=65),t[8*r+n]=String.fromCharCode(o)}return t.join("")}function N(e,t){var r=e[t[0]][t[1]],n=(String(r[1]),e[t[2]][t[3]][0].toString()+e[t[2]][t[3]][1]);return 1===r[1]&&t[0]!==t[2]&&"00"===n&&(n=1===r[0]?"21":"11"),r[0].toString()+r[1]+function(e,t,r,n){return String.fromCharCode(97+e)+(t+1)+String.fromCharCode(97+r)+(n+1)}(t)+n}function A(e,t,r){var n=N(t.table,e);t.moves.push(n),t.table=U(e,t.table),t.wNext=!t.wNext,t.pollNum+=1,t.moveCount+=1,t.table=v(t.table,t.wNext);var o=I(t.table);return t.allPastTables.push(o),t}function P(e,t){var r=[],n=1;t&&(n+=1);for(var o=0;o<8;o+=1)for(var a=0;a<8;a+=1)if(9===e[o][a][1]&&e[o][a][0]===n){r=O(o,a,t,e,[0]);for(var i=0;i<r.length;i+=1)if(5===e[r[i][0]][r[i][1]][1]||2===e[r[i][0]][r[i][1]][1])return!0;r=k(o,a,t,e,[0]);for(i=0;i<r.length;i+=1)if(5===e[r[i][0]][r[i][1]][1]||4===e[r[i][0]][r[i][1]][1])return!0;r=C(o,a,t,e,[0]);for(i=0;i<r.length;i+=1)if(3===e[r[i][0]][r[i][1]][1])return!0;if(t?a<7:a>0){r=j(o,a,t,e,[0]);for(i=0;i<r.length;i+=1)if(1===e[r[i][0]][r[i][1]][1])return!0}r=x(o,a,t,e,[0]);for(i=0;i<r.length;i+=1)if(9===e[r[i][0]][r[i][1]][1])return!0}return!1}function U(e,t,r,n){if(void 0===n)n=[0];for(var o=[],a=0;a<8;a+=1){o[a]=new Array(8);for(var i=0;i<8;i+=1){o[a][i]=new Array(4);for(var s=0;s<4;s+=1)o[a][i][s]=t[a][i][s]}}if(9===o[e[0]][e[1]][1]&&o[e[0]][e[1]][3])switch(e[2]){case 2:switch(e[3]){case 0:o=U([0,0,3,0],o);break;case 7:o=U([0,7,3,7],o)}break;case 6:switch(e[3]){case 0:o=U([7,0,5,0],o);break;case 7:o=U([7,7,5,7],o)}}for(var u=0;u<8;u+=1)o[u][3][3]=!1,o[u][4][3]=!1;1===o[e[0]][e[1]][1]&&(1===e[1]&&3===e[3]||6===e[1]&&4===e[3])&&(o[e[0]][e[1]][3]=!0);return 1===o[e[0]][e[1]][1]&&0===o[e[2]][e[3]][0]&&e[0]!==e[2]&&(!0,o[e[2]][e[3]]=o[e[2]][e[1]],o[e[2]][e[1]]=[0,0,!1,!1,!1]),n[0]=o[e[2]][e[3]][1],1!==o[e[0]][e[1]][1]||7!==e[3]&&0!==e[3]||(o[e[0]][e[1]][1]=5,n[0]+=4),o[e[0]][e[1]][2]+=1,o[e[2]][e[3]]=o[e[0]][e[1]],o[e[0]][e[1]]=[0,0,0],1!==o[e[2]][e[3]][1]&&(o[e[2]][e[3]][3]=!1),o}function S(e,t,r,n){return[e,t,r,n]}function M(e,t,r){return e>=0&&t>=0&&e<=7&&t<=7?r[e][t]:[3]}function E(e,t,r,n,o,a,i,s,u,c){var h=function(e,t,r){return e>=0&&t>=0&&e<=7&&t<=7?r[e][t]:[0]}(r,n,a);return 0!==h[0]?(h[0]===o?(u[0]+=1,i[r][n]=!0):(c[8*r+n]=!0,s[s.length]=[e,t,r,n,a[e][t][1],a[r][n][1]]),!0):(c[8*r+n]=!0,!1)}function H(e,t,r,n,o,a,i,s,u,c){return!(r<0||r>7)&&(0!==a[r][n][0]?(a[r][n][0]===o?(u[0]+=1,i[r][n]=!0):(c[8*r+n]=!0,s[s.length]=[e,t,r,n,a[e][t][1],a[r][n][1]]),!0):(c[8*r+n]=!0,!1))}function F(e,t,r,n,o,a,i,s,u,c){var h=M(r,n,a);return 3!==h[0]&&(0===h[0]?(c[8*r+n]=!0,!0):(h[0]===o?(u[0]+=1,i[r][n]=!0):(c[8*r+n]=!0,s[s.length]=[e,t,r,n,a[e][t][1],a[r][n][1]]),!1))}function L(e,t,r,n){for(var o=new Array(8),a=0;a<8;a+=1){o[a]=new Array(8);for(var i=0;i<8;i+=1)o[a][i]=new Int8Array(2),o[a][i][0]=t[a][i][0],o[a][i][1]=t[a][i][1]}if(9===o[e[0]][e[1]][1]&&o[e[0]][e[1]][3])switch(e[2]){case 2:switch(e[3]){case 0:o=L([0,0,3,0],o);break;case 7:o=L([7,0,5,0],o)}break;case 7:switch(e[3]){case 0:o=L([0,7,3,7],o);break;case 7:o=L([7,7,5,7],o)}}return 1!==o[e[0]][e[1]][1]||7!==e[3]&&0!==e[3]||(o[e[0]][e[1]][1]=5),o[e[2]][e[3]]=o[e[0]][e[1]],o[e[0]][e[1]]=[0,0,0],o}function V(e,t,r,n,o,a,i,s){switch(n[e][t][1]){case 1:!function(e,t,r,n,o,a,i,s){if(2===o)return H(e,t,e+1,t+1,o,r,n,a,i,s),void H(e,t,e-1,t+1,o,r,n,a,i,s);H(e,t,e+1,t-1,o,r,n,a,i,s),H(e,t,e-1,t-1,o,r,n,a,i,s)}(e,t,n,o,r,a,i,s);break;case 2:!function(e,t,r,n,o,a,i,s){for(var u=e+1,c=t+1;F(e,t,u,c,o,r,n,a,i,s);)u+=1,c+=1;for(u=e-1,c=t-1;F(e,t,u,c,o,r,n,a,i,s);)u-=1,c-=1;for(u=e-1,c=t+1;F(e,t,u,c,o,r,n,a,i,s);)u-=1,c+=1;for(u=e+1,c=t-1;F(e,t,u,c,o,r,n,a,i,s);)u+=1,c-=1}(e,t,n,o,r,a,i,s);break;case 3:!function(e,t,r,n,o,a,i,s){E(e,t,e+1,t+2,o,r,n,a,i,s),E(e,t,e+1,t-2,o,r,n,a,i,s),E(e,t,e-1,t+2,o,r,n,a,i,s),E(e,t,e-1,t-2,o,r,n,a,i,s),E(e,t,e+2,t+1,o,r,n,a,i,s),E(e,t,e+2,t-1,o,r,n,a,i,s),E(e,t,e-2,t+1,o,r,n,a,i,s),E(e,t,e-2,t-1,o,r,n,a,i,s)}(e,t,n,o,r,a,i,s);break;case 4:!function(e,t,r,n,o,a,i,s){for(var u=e+1;F(e,t,u,t,o,r,n,a,i,s);)u+=1;for(u=e-1;F(e,t,u,t,o,r,n,a,i,s);)u-=1;for(u=t+1;F(e,t,e,u,o,r,n,a,i,s);)u+=1;for(u=t-1;F(e,t,e,u,o,r,n,a,i,s);)u-=1}(e,t,n,o,r,a,i,s);break;case 5:!function(e,t,r,n,o,a,i,s){for(var u=e+1;F(e,t,u,t,o,r,n,a,i,s);)u+=1;for(u=e-1;F(e,t,u,t,o,r,n,a,i,s);)u-=1;for(u=t+1;F(e,t,e,u,o,r,n,a,i,s);)u+=1;for(u=t-1;F(e,t,e,u,o,r,n,a,i,s);)u-=1;u=e+1;for(var c=t+1;F(e,t,u,c,o,r,n,a,i,s);)u+=1,c+=1;for(u=e-1,c=t-1;F(e,t,u,c,o,r,n,a,i,s);)u-=1,c-=1;for(u=e-1,c=t+1;F(e,t,u,c,o,r,n,a,i,s);)u-=1,c+=1;for(u=e+1,c=t-1;F(e,t,u,c,o,r,n,a,i,s);)u+=1,c-=1}(e,t,n,o,r,a,i,s);break;case 9:!function(e,t,r,n,o,a,i,s){E(e,t,e+1,t,o,r,n,a,i,s),E(e,t,e-1,t,o,r,n,a,i,s),E(e,t,e+1,t+1,o,r,n,a,i,s),E(e,t,e-1,t+1,o,r,n,a,i,s),E(e,t,e+1,t-1,o,r,n,a,i,s),E(e,t,e-1,t-1,o,r,n,a,i,s),E(e,t,e,t+1,o,r,n,a,i,s),E(e,t,e,t-1,o,r,n,a,i,s),r[e][t][3]&&(r[0][t][3]&&0===r[1][t][0]&&0===r[2][t][0]&&0===r[3][t][0]&&E(e,t,2,t,o,r,n,a,i,s),r[7][t][3]&&0===r[5][t][0]&&0===r[6][t][0]&&E(e,t,6,t,o,r,n,a,i,s))}(e,t,n,o,r,a,i,s)}}function W(e,t,r,n,o){var a=1,i=1,s=1;switch(o&&o.modType){case"fwV":a=o.modConst;break;case"bHK":i=o.modConst;break;case"hKM":s=o.modConst}var u,c,h=0,l=[],f=[],p=new Uint8Array(1),v=new Uint8Array(1),d=0,m=0,b=0,g=0,_=[new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8),new Uint8Array(8)];t?(c=1,u=2):(u=1,c=2);for(var w={},y={},D=0;D<8;D+=1)for(var T=0;T<8;T+=1)e[D][T][0]===u?(1===e[D][T][1]&&(h+=1===u?7-T:T),V(D,T,u,e,_,l,p,w)):0!==e[D][T][0]&&(1===e[D][T][1]&&(h-=1===c?7-T:T),V(D,T,c,e,_,f,v,9===e[D][T][1]?y:{}));l.forEach((function(e){var t=0;(t=_[e[2]][e[3]]?e[5]-e[4]:e[5])>b&&(b=t,e),d+=t})),f.forEach((function(e){var t=0;(t=_[e[2]][e[3]]?e[5]-e[4]:e[5])>g&&(g=t),m+=t}));var k=p[0]-v[0],O=d-m,j=Object.keys(y),x=8-j.length,C=j.reduce((function(e,t){return w[t]?e+1:e}),0);h*=1*a,x*=1*s,C*=1*i;var I=new Int32Array(1);return I[0]=65536*b-4096*g,r?I[0]-=(k<<8)+(O<<4)+h+(x<<9)+(C<<10):I[0]+=(k<<8)+(O<<4)+h+(x<<9)+(C<<10),I}var R=function(e,t){this.id=Math.random();var r=p.shouldIDraw(e);this.shouldIDraw=r,t&&(this.mod=t),this.sharedData={shouldIDraw:r,origWNext:e.wNext,desiredDepth:e.desiredDepth,oppKingPos:_(e.table,!e.wNext),origProtect:g(e.table,e.wNext),origData:d(e.table,e.wNext),origDeepDatatt:W(e.table,!0,!0,e.wNext,t),origDeepDatatf:W(e.table,!0,!1,e.wNext,t),origDeepDataft:W(e.table,!1,!0,e.wNext,t),origDeepDataff:W(e.table,!1,!1,e.wNext,t)},this.moveCoords=m(e.table,e.wNext,!1,0,!0);var n=!1;this.sharedData.origData[0]>1&&(n=!0),this.sharedData.dontLoop=n};function K(e,t){var r=[],n=!e.wNext;if(2===e.depth&&P(e.table,n)&&(r=[new J(e.table,n,e.depth+1,e.moveTree,e.desiredDepth,100,e.wPlayer,!1,e.gameNum,e.mod,e.shouldIDraw)]),e.trItm)G(e.depth,t);else if(e.depth>e.desiredDepth)t[e.depth][t[e.depth].length]=new ee(e.score,e.moveTree,e.wPlayer);else{var o=1&e.depth;if(e.depth===e.desiredDepth){var a;a=o?(e.score<<16)-W(e.table,e.wNext,!1,e.wPlayer,e.mod,e.shouldIDraw)[0]:(e.score<<16)+W(e.table,e.wNext,!0,e.wPlayer,e.mod,e.shouldIDraw)[0],r[r.length]=new J([],n,e.depth+1,e.moveTree,e.desiredDepth,a,e.wPlayer,!1,e.gameNum,e.mod,e.shouldIDraw)}else{var i=[];v(e.table,e.wNext,!0,i);for(var s=i.length-1;s>=0;s-=1){var u,c=i[s];u=L(c,e.table);var h,l=e.table[c[2]][c[3]][1];h=o?e.score-l:e.score+l;var f=e.moveTree.concat([c,h]);r[r.length]=new J(u,n,e.depth+1,f,e.desiredDepth,h,e.wPlayer,!1,e.gameNum,e.mod,e.shouldIDraw)}}r[r.length]=new te(e.depth+1,e.moveTree,e.wPlayer)}return r}function Q(e,t){var r=e.progress,n=(new Date).getTime();t&&(e={desiredDepth:e.desiredDepth,smallDeepeningTasks:[e],wPlayer:e.wPlayer,mod:e.mod,shouldIDraw:e.shouldIDraw});for(var o=[],a=e.desiredDepth+2,i=0;i<a;i+=1)o[i]=[];for(;e.smallDeepeningTasks.length>0;)for(var s=K(e.smallDeepeningTasks.pop(),o),u=s.length-1;u>=0;u-=1)e.smallDeepeningTasks[e.smallDeepeningTasks.length]=s[u];var c=(new Date).getTime()-n,h={gameNum:e.gameNum,progress:r,timeItTook:c,score:o[2][0].value,moveTree:o[2][0].moveTree};return!0!==t&&(h.score=o[1][0].value),h}function q(e,t,r,n){var o=function e(t){var r;if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return(r=new Date).setTime(t.getTime()),r;if(t instanceof Array){r=[];for(var n=0,o=t.length;n<o;n+=1)r[n]=e(t[n]);return r}if(t instanceof Object){for(var a in r={},t)t.hasOwnProperty(a)&&(r[a]=e(t[a]));return r}throw new Error("Unable to copy obj! Its type isn't supported.")}(e);o.moveTask=new R(o,n),o.moveTask.sharedData.desiredDepth=t;var a=new z(o).movesToSend;a.forEach((function(e){e.progress={moveCoords:e.moveCoords,moveIndex:e.moveIndex,done:!1,result:{},expected:void 0}}));var i=[];a.forEach((function(e,t){var r=new X(e);!function(e){for(var t=e.smallDeepeningTasks.pop(),r=K(t,t.resolverArray);r.length>0;){var n=r.pop();e.smallDeepeningTasks[e.smallDeepeningTasks.length]=n}e.smallDeepeningTasksCopy=e.smallDeepeningTasks.slice(),e.resolverArray=[]}(r);for(
//!!!!!!!!!!!implement !!!!!!!!!!typedarray
var n=[];r.smallDeepeningTasks.length>1;){var a=r.smallDeepeningTasks.pop();a.progress=r.progress;var s=Q(a,!0);s.value=s.score,n[n.length]=s}var u=[];u[1]=[],u[2]=n,u[3]=[],G(2,u);var c,h=u[1][0],l=h.moveTree[0];if(!o.moveTask.shouldIDraw){var f=U(l,o.table);c=p.checkIfLooped(f,o.allPastTables)}c&&(h.value-=Math.pow(c,5)),h.score=h.value,h.move=l,i[i.length]=h})),i.sort((function(e,t){return e.score<t.score?1:e.score===t.score?0:-1}));var s={result:i,winningMove:i[0],moveCoords:i[0].moveTree[0]};return r&&r(s),s}function G(e,t){if(t[e].length>0){var r=t[e-1];r[r.length]=1&e?t[e].reduce((function(e,t,r,n){return t.value>e.value?{value:t.value,moveTree:t.moveTree}:{value:e.value,moveTree:e.moveTree}})):t[e].reduce((function(e,t,r,n){return t.value<e.value?{value:t.value,moveTree:t.moveTree}:{value:e.value,moveTree:e.moveTree}}))}t[e]=[]}var $,B,Y,J=function(e,t,r,n,o,a,i,s,u,c,h){this.gameNum=u,this.wPlayer=i,this.table=e,this.wNext=t,this.depth=r,this.moveTree=n,this.desiredDepth=o,this.score=a,this.mod=c,this.shouldIDraw=h},Z=function(e,t,r,n){var o=r.moveTask;this.shouldIDraw=o.shouldIDraw,this.mod=o.mod,this.moveIndex=t,this.moveCoords=e,this.sharedData=o.sharedData,this.sharedData.origTable=r.table,this.sharedData.gameNum=r._id,this.sharedData.desiredDepth=o.sharedData.desiredDepth,this.sharedData.splitMoveID=n,this.timer={},this.history=[]},z=function(e){var t=this;this.shouldIDraw=e.moveTask.shouldIDraw,this.started=new Date,this.splitMoveIndex=void 0,this.splitMoveID=Math.random()*Math.random();var r=[];e.moveTask.moveCoords.forEach((function(n,o){r.push(new Z(n,o,e,t.splitMoveID))})),this.movesToSend=r,this.moves=r.slice(),this.thinkers=[],this.gameNum=e._id,this.origTable=e.table,this.origMoveTask=e.moveTask,this.pendingMoveCount=e.moveTask.moveCoords.length},X=function(e){this.shouldIDraw=e.sharedData.shouldIDraw,this.mod=e.mod,this.gameNum=e.sharedData.gameNum,this.progress=e.progress,this.resolverArray=[],this.initialWNext=e.sharedData.origWNext,this.moveStr=[e.moveCoords[0],e.moveCoords[1],e.moveCoords[2],e.moveCoords[3]],this.initialTreeMoves=[this.moveStr],this.startingTable=e.sharedData.origTable,this.startingAllPastTables=e.sharedData.allPast,this.thisTaskTable=U(this.moveStr,this.startingTable),this.firstDepthValue=this.startingTable[e.moveCoords[2]][e.moveCoords[3]][1],this.desiredDepth=e.sharedData.desiredDepth,this.actualDepth=1,this.tableTree=[],this.moveStrTree=[],this.tableTree[0]=[this.startingTable],this.tableTree[1]=[this.thisTaskTable],this.tableTree[2]=[],this.moveStrTree[0]=[[]],this.moveStrTree[1]=[[this.moveStr]],this.moveStrTree[2]=[[]],this.smallDeepeningTaskCounts=[0,1];var t=new J(this.thisTaskTable,!this.initialWNext,this.actualDepth,this.initialTreeMoves,this.desiredDepth,this.firstDepthValue,e.cfColor,!1,this.gameNum,this.mod,this.shouldIDraw);this.smallDeepeningTasks=[t],this.solvedSmallDeepeningTasks=[]},ee=function(e,t,r){this.value=e,this.moveTree=t,this.wPlayer=r},te=function(e,t,r){this.trItm=!0,this.depth=e,this.moveTree=t,this.wPlayer=r},re=function(){this.moveCount=0,this.pendingMoveCount=0,this.desiredDepth=0,this.returnedMoves=[],this.gameIsOn=!0,this.whiteWon=!1,this.blackWon=!1,this.isDraw=!1,this.askWhiteDraw=!1,this.askBlackDraw=!1,this.whiteCanForceDraw=!1,this.blackCanForceDraw=!1,this.wNext=!0,this.moves=[],this.allPastTables=[],this.created=Date.now(),this.moved=null,this.table=function(){for(var e=[],t=0;t<8;t+=1)e[t]=[];for(var r=2;r<6;r+=1)for(var n=0;n<8;n+=1)e[n][r]=[0,0,0,!1,!1];for(var o=0;o<8;o++)e[o][1]=[2,1,0,!1,!1];for(var a=0;a<8;a++)e[a][6]=[1,1,0,!1,!1];return e[0][0]=[2,4,0,!0,!1],e[7][0]=[2,4,0,!0,!1],e[0][7]=[1,4,0,!0,!1],e[7][7]=[1,4,0,!0,!1],e[1][0]=[2,3,0,!0,!1],e[6][0]=[2,3,0,!0,!1],e[1][7]=[1,3,0,!0,!1],e[6][7]=[1,3,0,!0,!1],e[2][0]=[2,2,0,!0,!1],e[5][0]=[2,2,0,!0,!1],e[2][7]=[1,2,0,!0,!1],e[5][7]=[1,2,0,!0,!1],e[3][0]=[2,5,0,!0,!1],e[4][0]=[2,9,0,!0,!1],e[3][7]=[1,5,0,!0,!1],e[4][7]=[1,9,0,!0,!1],v(e,!0)}()},ne=0,oe=[],ae=n.options.__b,ie=n.options.__r,se=n.options.diffed,ue=n.options.__c,ce=n.options.unmount;function he(e,t){n.options.__h&&n.options.__h(B,e,ne||t),ne=0;var r=B.__H||(B.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function le(e){return ne=1,function(e,t,r){var n=he($++,2);return n.t=e,n.__c||(n.__=[r?r(t):me(void 0,t),function(e){var t=n.t(n.__[0],e);n.__[0]!==t&&(n.__=[t,n.__[1]],n.__c.setState({}))}],n.__c=B),n.__}(me,e)}function fe(){oe.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(ve),e.__H.__h.forEach(de),e.__H.__h=[]}catch(t){e.__H.__h=[],n.options.__e(t,e.__v)}})),oe=[]}n.options.__b=function(e){B=null,ae&&ae(e)},n.options.__r=function(e){ie&&ie(e),$=0;var t=(B=e.__c).__H;t&&(t.__h.forEach(ve),t.__h.forEach(de),t.__h=[])},n.options.diffed=function(e){se&&se(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==oe.push(t)&&Y===n.options.requestAnimationFrame||((Y=n.options.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),pe&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);pe&&(t=requestAnimationFrame(r))})(fe)),B=void 0},n.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ve),e.__h=e.__h.filter((function(e){return!e.__||de(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n.options.__e(r,e.__v)}})),ue&&ue(e,t)},n.options.unmount=function(e){ce&&ce(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(ve)}catch(e){n.options.__e(e,t.__v)}};var pe="function"==typeof requestAnimationFrame;function ve(e){var t=B;"function"==typeof e.__c&&e.__c(),B=t}function de(e){var t=B;e.__c=e.__(),B=t}function me(e,t){return"function"==typeof t?t(e):t}var be=r("UQ27"),ge=r.n(be);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var we=function(){for(var e,t,r,o=(e=f,t=B.context[e.__c],(r=he($++,9)).__c=e,t?(null==r.__&&(r.__=!0,t.sub(B)),t.props.value):e.__),a=o.gameState,i=o.setGameState,s=a.table,u=le(),c=u[0],h=u[1],l=Math.min(window.innerHeight,window.innerWidth)/9,p=[],v=0;v<8;v+=1){p[v]=[];for(var d=0;d<8;d+=1)p[v][d]=s[d][7-v],v+d&1&&(p[v][d][7]=!0)}var m=function(e,t,r){if(!c)return r[9]=!0,r[5].forEach((function(e){var t=e[0],r=e[1];s[t][r][9]=!0})),void h({rowIndex:e,colIndex:t});var n=[c.colIndex,7-c.rowIndex,t,7-e];if(n[0]===n[2]&&n[1]===n[3])return h(null),void i(function(e){return _e({},e,{table:e.table.map((function(e){return e.map((function(e){return _e({},e,{9:null})}))}))})}(a));var o=A(n,a);i(o),h(null),setTimeout((function(){var e=q(o,3).moveCoords;i(_e({},A(e,o)))}),0)};return Object(n.h)("div",null,Object(n.h)("table",{className:"main-table unselectable"},Object(n.h)("tbody",null,Object(n.h)("tr",{className:"heading row0",style:{width:l,height:1}},Object(n.h)("td",null),Object(n.h)("td",null,"A"),Object(n.h)("td",null,"B"),Object(n.h)("td",null,"C"),Object(n.h)("td",null,"D"),Object(n.h)("td",null,"E"),Object(n.h)("td",null,"F"),Object(n.h)("td",null,"G"),Object(n.h)("td",null,"H")),p.map((function(e,t){return Object(n.h)("tr",{key:t,style:{height:l}},Object(n.h)("td",null,8-t),e.map((function(e,r){return Object(n.h)("td",{key:r,className:e[7]?ge.a.darker:ge.a.square},Object(n.h)("div",{style:{height:l},onClick:function(){return m(t,r,e)}},Object(n.h)("img",{src:"/assets/pieces/"+e[0]+e[1]+".png",height:l,width:l,class:""+(e[8]||e[9]?ge.a.selected:"")+(e[15]?ge.a.selected2:"")})))})))})))))},ye=function(){var e=le(new re),t={gameState:e[0],setGameState:e[1]};return Object(n.h)(f.Provider,{value:t},Object(n.h)(we,null))},De=function(){return Object(n.h)(ye,null)},Te=function(){return Object(n.h)("div",{id:"app"},Object(n.h)(u,null),Object(n.h)("div",{id:"main-content"},Object(n.h)(o.Router,null,Object(n.h)(l,{path:"/"}),Object(n.h)(De,{path:"/game/"}))))};t.default=Te},UQ27:function(e,t,r){e.exports={darker:"darker__3FUDV",square:"square__2d7yg",selected2:"selected2__215Pa",fadeIt:"fadeIt__2Id_H",selected:"selected__1JKN2"}},Y3FI:function(e,t,r){"use strict";r.r(t),r.d(t,"subscribers",(function(){return p})),r.d(t,"getCurrentUrl",(function(){return d})),r.d(t,"route",(function(){return m})),r.d(t,"Router",(function(){return T})),r.d(t,"Route",(function(){return O})),r.d(t,"Link",(function(){return k})),r.d(t,"exec",(function(){return i}));var n=r("HteQ"),o={};function a(e,t){for(var r in t)e[r]=t[r];return e}function i(e,t,r){var n,a=/(?:\?([^#]*))?(#.*)?$/,i=e.match(a),s={};if(i&&i[1])for(var u=i[1].split("&"),h=0;h<u.length;h++){var l=u[h].split("=");s[decodeURIComponent(l[0])]=decodeURIComponent(l.slice(1).join("="))}e=c(e.replace(a,"")),t=c(t||"");for(var f=Math.max(e.length,t.length),p=0;p<f;p++)if(t[p]&&":"===t[p].charAt(0)){var v=t[p].replace(/(^:|[+*?]+$)/g,""),d=(t[p].match(/[+*?]+$/)||o)[0]||"",m=~d.indexOf("+"),b=~d.indexOf("*"),g=e[p]||"";if(!g&&!b&&(d.indexOf("?")<0||m)){n=!1;break}if(s[v]=decodeURIComponent(g),m||b){s[v]=e.slice(p).map(decodeURIComponent).join("/");break}}else if(t[p]!==e[p]){n=!1;break}return(!0===r.default||!1!==n)&&s}function s(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function u(e,t){return e.index=t,e.rank=function(e){return e.props.default?0:(t=e.props.path,c(t).map(h).join(""));var t}(e),e.props}function c(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function h(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var l=null,f=[],p=[],v={};function d(){var e;return""+((e=l&&l.location?l.location:l&&l.getCurrentLocation?l.getCurrentLocation():"undefined"!=typeof location?location:v).pathname||"")+(e.search||"")}function m(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=f.length;t--;)if(f[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),l&&l[t]?l[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),b(e)}function b(e){for(var t=!1,r=0;r<f.length;r++)!0===f[r].routeTo(e)&&(t=!0);for(var n=p.length;n--;)p[n](e);return t}function g(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),r=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return m(t)}}function _(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button))return g(e.currentTarget||e.target||this),w(e)}function w(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function y(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(g(t))return w(e)}}while(t=t.parentNode)}}var D=!1;var T=function(e){function t(t){e.call(this,t),t.history&&(l=t.history),this.state={url:t.url||d()},D||("function"==typeof addEventListener&&(l||addEventListener("popstate",(function(){b(d())})),addEventListener("click",y)),D=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){var t=Object(n.toChildArray)(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){f.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;l&&(this.unlisten=l.listen((function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))}))),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),f.splice(f.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,r){return e.filter(u).sort(s).map((function(e){var o=i(t,e.props.path,e.props);if(o){if(!1!==r){var s={url:t,matches:o};return a(s,o),delete s.ref,delete s.key,Object(n.cloneElement)(e,s)}return e}})).filter(Boolean)},t.prototype.render=function(e,t){var r=e.children,o=e.onChange,a=t.url,i=this.getMatchingChildren(Object(n.toChildArray)(r),a,!0),s=i[0]||null,u=this.previousUrl;return a!==u&&(this.previousUrl=a,"function"==typeof o&&o({router:this,url:a,previous:u,active:i,current:s})),s},t}(n.Component),k=function(e){return Object(n.createElement)("a",a({onClick:_},e))},O=function(e){return Object(n.createElement)(e.component,e)};T.subscribers=p,T.getCurrentUrl=d,T.route=m,T.Router=T,T.Route=O,T.Link=k,T.exec=i,t.default=T},fajk:function(e,t,r){},"ox/y":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.Match=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("HteQ"),a=r("Y3FI");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=t.Match=function(e){function t(){var r,n;i(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return r=n=s(this,e.call.apply(e,[this].concat(a))),n.update=function(e){n.nextUrl=e,n.setState({})},s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){a.subscribers.push(this.update)},t.prototype.componentWillUnmount=function(){a.subscribers.splice(a.subscribers.indexOf(this.update)>>>0,1)},t.prototype.render=function(e){var t=this.nextUrl||(0,a.getCurrentUrl)(),r=t.replace(/\?.+$/,"");return this.nextUrl=null,e.children({url:t,path:r,matches:!1!==(0,a.exec)(r,e.path,{})})},t}(o.Component),c=function(e){var t=e.activeClassName,r=e.path,i=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["activeClassName","path"]);return(0,o.h)(u,{path:r||i.href},(function(e){var r=e.matches;return(0,o.h)(a.Link,n({},i,{class:[i.class||i.className,r&&t].filter(Boolean).join(" ")}))}))};t.Link=c,t.default=u,u.Link=c},ySiU:function(e,t,r){e.exports={header:"header__3QGkI",active:"active__3gItZ"}}});
//# sourceMappingURL=ssr-bundle.js.map